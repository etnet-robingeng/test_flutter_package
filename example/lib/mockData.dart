import 'dart:developer';

import 'package:app_family_materials/chart/chartPoint.dart';

class MockData {
  static List<ChartPoint> getMiniChartData() {
    String mockData =
        '1742972280000,507.000 1742972040000,506.500 1742971740000,506.500 1742971440000,506.000 1742971140000,507.000 1742970840000,505.500 1742970540000,506.000 1742970240000,506.500 1742969940000,506.500 1742969640000,507.000 1742969340000,507.500 1742969040000,507.500 1742968740000,506.000 1742968440000,506.000 1742968140000,504.500 1742967840000,505.000 1742967540000,505.500 1742967240000,506.000 1742966940000,505.000 1742966640000,504.000 1742966340000,505.000 1742966040000,505.500 1742965740000,506.000 1742965440000,504.000 1742961540000,503.500 1742961240000,504.000 1742960940000,503.500 1742960640000,503.000 1742960340000,502.500 1742960040000,502.500 1742959740000,502.500 1742959440000,503.500 1742959140000,503.000 1742958840000,504.000 1742958540000,505.000 1742958240000,503.500 1742957940000,504.500 1742957640000,504.500 1742957340000,504.000 1742957040000,504.000 1742956740000,505.000 1742956440000,504.000 1742956140000,505.000 1742955840000,504.500 1742955540000,507.000 1742955240000,505.000 1742954940000,506.500 1742954640000,507.500 1742954340000,509.500 1742954040000,508.000 1742953740000,508.500 1742953440000,507.000 1742953140000,506.000 1742952840000,506.500';
    List<ChartPoint> testData = [];

    try {
      List<String> dataList = mockData.split(' ');
      for (var data in dataList) {
        List<String> splitData = data.split(',');
        if (splitData.length == 2) {
          int? timestamp = int.tryParse(splitData[0]);
          double? value = double.tryParse(splitData[1]);

          if (timestamp != null && value != null) {
            ChartPoint chartPoint = ChartPoint(
                timestamp: DateTime.fromMillisecondsSinceEpoch(timestamp),
                value: value
            );
            testData.add(chartPoint);
          }
        }
      }

      testData.sort((a, b) => a.timestamp.compareTo(b.timestamp));

      // log('results:  ${testData.length}');
    } catch (e) {
      log('error: $e');
    }

    return testData;
  }
}
